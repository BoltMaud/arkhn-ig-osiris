# IG-OSIRIS 
By [Arkhn](http://arkhn.com/), data for open and collaborative healthcare

IG-OSIRIS is the implementation guide of the data framework OSIRIS for clinical and biological data sharing and interoperability in oncology.

# Context

## What is OSIRIS?
OSIRIS is a minimum data set for data sharing and interoperability in oncology, developed by Integrated Cancer Research Sites (SIRICs), in the context of large precision medicine clinical trials to incorporate the longitudinal changes associated with disease progression and resistance to therapeutic interventions. It could also provide an effective real-world data ecosystem by developing a data standard, which, if used, could improve the compatibility, quality, and consistency of electronic health record. In both cases, OSIRIS may facilitate the application of artificial intelligence and enhance supervised machine learning and data science in the context of clinical care and clinical research.

<table>
  <tr>
    <td><b>Publication </b></td>
    <td><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8140800/">Minimum Data Set for Data Sharing and Interoperability in Oncology</a></td>
  </tr>
  <tr>
    <td><b>OSIRIS Data Framework</b></td>
    <td><a href="https://github.com/siric-osiris/OSIRIS">github.com/siric-osiris/OSIRIS</a></td>
  </tr>
</table>

---

# Getting started

## Prerequisites (for macOS)
### Java
Install [Java&trade; SE Runtime Environment](https://www.java.com/fr/).
> See _[Installing the JDK on macOS](https://docs.oracle.com/en/java/javase/15/install/installation-jdk-macos.html#GUID-F575EB4A-70D3-4AB4-A20E-DBE95171AB5F)_, if any issue

### Ruby
Install Ruby:

First install `chruby`and `ruby-install`:
```
brew install chruby ruby-install
```

Install the latest stable version of Ruby:
```
ruby-install ruby
````

Once it is done, configure your shell to automatically use `chruby`:
```
echo "source $(brew --prefix)/opt/chruby/share/chruby/chruby.sh" >> ~/.zshrc
echo "source $(brew --prefix)/opt/chruby/share/chruby/auto.sh" >> ~/.zshrc
echo "chruby ruby-3.1.2" >> ~/.zshrc # run 'chruby' to see actual version
```
> If youâ€™re using **Bash**, replace `.zshrc` with `.bash_profile`.

Quit and relaunch Terminal, check that everything is working with 
```
ruby -v
```

### Jekyll
Finally, install [Jekyll](https://jekyllrb.com/docs/installation/macos/):
```
gem install jekyll
```

### Sushi
Install [Node.js](https://nodejs.org/) then `fsh-sushi`.

> To install sushi, see [Sushi Installation guide](https://fshschool.org/docs/sushi/installation/)

## Prerequisites (for Windows)
### Java
Install [Java&trade; SE Runtime Environment](https://www.java.com/fr/).

### Ruby
Install [Ruby](https://rubyinstaller.org/)

### Jekyll
Open Start Command Prompt with Ruby
```
gem install jekyll
```

### Sushi
Install [Node.js](https://nodejs.org/) then `fsh-sushi`.

> To install sushi, see [Sushi Installation guide](https://fshschool.org/docs/sushi/installation/)

# Generate IG

- Run SUSHI
```
sushi .
```
Running SUSHI will create a **arkhn-ig-osiris/fsh-generated** directory, and populate it with the files needed to create the IG using the HL7 FHIR IG Publisher tool.

The files generated by SUSHI are located in the **arkhn-ig-osiris/fsh-generated** directory. Check that the **arkhn-ig-osiris/fsh-generated/resources** subdirectory contains two generated `StructureDefinitions` and a generated `ImplementationGuide`.

- Update FHIR IG publisher


*macOs:*
```
./_updatepublisher.sh
```

*Windows:*
```
_updatepublisher.sh
```
This will download the latest version of the HL7 FHIR IG Publisher tool into **./input-cache**. _This step can be skipped if you already have run the command recently, and have the latest version of the IG Publisher tool._

- Run the HL7 FHIR IG generator:
- 
*macOs:*
```
./_genonce.sh
```

*Windows:*
```
_genonce.sh
```

After the publisher is finished, open the file **arkhn-ig-osiris/output/index.html** to see the resulting IG.
